const articles = [
  {
    id: 1,
    title: 'Астрология и её влияние на жизнь',
    img: '/img/articles/astrology.webp',
    position: 'top',
    description:
      'Узнайте, как звезды становятся вашим персональным компасом для принятия важных решений и раскрытия потенциала.',
    content: `
      <p>Астрология - это не просто древнее учение, а точный инструмент для понимания своей судьбы и гармонизации жизни. На протяжении 5000 лет мудрецы и правители использовали знание звезд для управления государствами и собственной жизнью. Сегодня эта наука доступна каждому!</p>
      <p>Ваша натальная карта - это уникальный космический паспорт, который содержит ответы на главные вопросы: какие профессии вам подходят, как строить отношения, когда лучше начинать важные проекты. Мы просто редко задумываемся, что положение планет в момент рождения определяет 70% нашего характера!</p>
      <p>Солнце раскрывает жизненную цель, Луна - ваши истинные эмоции, Меркурий отвечает за стиль общения. Зная расположение этих светил, вы сможете:</p>
      <ul>
        <li>Избегать конфликтов в отношениях</li>
        <li>Выбирать оптимальное время для старта бизнеса</li>
        <li>Понимать свои сильные стороны</li>
        <li>Предугадывать важные события</li>
      </ul>
      <p>Хотите получить персональную дорожную карту успеха? <strong>Пройдите наш тест</strong> - всего за 7 минут вы получите детальный анализ вашей натальной карты с практическими рекомендациями!</p>
    `,
  },
  {
    id: 2,
    title: 'Тайны натальной карты',
    img: '/img/articles/mystic.webp',
    description:
      'Ваш персональный ключ к успеху скрыт в расположении планет - узнайте, как его использовать!',
    content: `
      <p>Представьте, что у вас есть инструкция к собственной жизни - именно этим является натальная карта. Это ваш космический ДНК-код, где каждая планета - отдельная глава книги вашей судьбы.</p>
      <p>12 домов гороскопа - это 12 сфер жизни, которые вы можете прокачать:</p>
      <ol>
        <li>1-й дом - ваша личность и имидж</li>
        <li>2-й дом - финансы и таланты</li>
        <li>7-й дом - брак и партнерство</li>
        <li>10-й дом - карьера и признание</li>
      </ol>
      <p>Например, Венера в 5-м доме обещает яркую любовь и творческую реализацию, а Марс в 10-м доме - стремительный карьерный рост. Но есть нюансы: ретроградный Меркурий может указывать на гениальность, которую вы пока не раскрыли!</p>
      <p>Специально для новичков мы создали <strong>уникальный тест-анализатор</strong>. Ответьте на 12 простых вопросов и получите:</p>
      <ul>
        <li>Расшифровку вашего планетарного кода</li>
        <li>3 главных совета на текущий месяц</li>
        <li>Персональный астропрогноз отношений</li>
      </ul>
      <p>Не упустите шанс заглянуть в «инструкцию» своей судьбы!</p>
    `,
  },
  {
    id: 3,
    title: 'Значение планет в гороскопе',
    img: '/img/articles/planets.webp',
    description: '10 планет управляют вашей судьбой - узнайте, как включить их силу на 100%!',
    content: `
      <p>Планеты в астрологии - как кнопки управления вашей жизнью. Когда вы понимаете их язык, вы перестаёте плыть по течению и начинаете управлять своей судьбой!</p>
      <p><strong>Главная тройка влияния:</strong></p>
      <ul>
        <li>Солнце - ваш «бренд» и жизненная энергия</li>
        <li>Луна - интуиция и подсознательные страхи</li>
        <li>Асцендент - маска, которую вы показываете миру</li>
      </ul>
      <p>Но настоящую сенсацию вызывают медленные планеты: Плутон трансформирует вашу жизнь каждые 15 лет, Уран приносит неожиданные возможности, а Нептун раскрывает творческий дар. Зная их положение, вы сможете поймать волну удачи!</p>
      <p>Хотите знать, какая планета сейчас управляет вашей жизнью? <strong>Пройти наш тест</strong> - это как получить дистанционное управление для своей судьбы! Вы узнаете:</p>
      <ul>
        <li>Какая планета ваша покровитель</li>
        <li>Когда наступит лучший период для старта</li>
        <li>Как избежать роковых ошибок</li>
      </ul>
      <p>Не оставляйте свою жизнь на волю случая - возьмите контроль с помощью планетарной аналитики!</p>
    `,
  },
];

articles.forEach((a) => (a.link = `/article/${a.id}`));

export default defineEventHandler((event) => {
  try {
    const params = getQuery(event);
    if (!Object.keys(params).length) {
      return articles;
    }

    const id = parseInt(params.id);
    const article = articles.find((a) => a.id === id);

    if (!article) {
      return sendRedirect(event, '/', 302);
    }

    return article;
  } catch (error) {
    console.error('Error fetching article:', error);
    return sendRedirect(event, '/', 302);
  }
});
